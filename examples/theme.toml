# Lush Line Editor (LLE) Theme Configuration
#
# Place this file at: ~/.config/lush/themes/<name>.toml
# Activate with: display lle theme set <name>
#
# Colors can be specified as:
#   - Hex RGB: "#FF5500" or "#F50"
#   - Named: "red", "green", "blue", "yellow", "magenta", "cyan", "white", "black"
#   - 256-color palette: "color123"
#
# To see all available themes:
#   display lle theme list
#
# To export the current theme:
#   display lle theme export > mytheme.toml
#
# ==============================================================================
# IMPLEMENTATION STATUS
# ==============================================================================
# Legend: [x] = fully working, [~] = parsed but not used, [ ] = not implemented
#
# LAYOUT:
#   [x] ps1, ps2              - Main and continuation prompts
#   [x] newline_before        - Blank lines before prompt
#   [x] newline_after         - Blank lines after prompt
#   [x] rps1                  - Right prompt (expanded via Spec 28 engine)
#   [x] transient             - Transient prompt (expanded via Spec 28 engine)
#   [x] style                 - "plain" (template) or "powerline" (colored blocks)
#   [~] enable_multiline      - Parsed but multiline is template-driven
#   [~] compact_mode          - Parsed but never checked
#
# COLORS:
#   [x] primary, secondary, success, warning, error, info
#   [x] text, text_dim, text_bright
#   [x] border, background, highlight
#   [x] git_clean, git_dirty, git_staged, git_branch
#   [x] git_ahead, git_behind, git_untracked
#   [x] path_normal, path_home, path_root, path_separator
#   [x] status_ok, status_error, status_running
#
# SYMBOLS:
#   [x] prompt, prompt_root, continuation, separator_left, separator_right
#   [x] staged, unstaged, untracked, ahead, behind - Git indicators
#   [x] branch, stash, conflict - Git symbols
#   [x] error, success - Status segment symbols
#   [x] jobs - Jobs segment symbol
#   [x] directory, home - Directory segment symbols
#   [x] time - Time segment symbol
#
# SEGMENTS:
#   [x] enabled array - Whitelist filter for visible segments
#   [x] Per-segment config via [segments.<name>] subsections
#
# SYNTAX HIGHLIGHTING:
#   [x] All syntax colors are fully implemented

# ==============================================================================
# THEME IDENTITY
# ==============================================================================

[theme]
name = "custom-example"
description = "Example theme showing all customization options"
author = "Your Name"
version = "1.0.0"
category = "modern"            # minimal, classic, modern, powerline, professional, creative
inherits_from = "default"      # Optional: inherit unset values from another theme

# ==============================================================================
# PROMPT LAYOUT
# ==============================================================================

[layout]
# Main prompt format (PS1)
# Available segments: ${user}, ${host}, ${directory}, ${git}, ${status}, ${jobs},
#   ${time}, ${symbol}, ${shlvl}, ${ssh}, ${cmd_duration}, ${virtualenv},
#   ${container}, ${aws}, ${kubernetes}
# Conditional syntax: ${?condition:content} - only show if condition is true
# Example conditions: git (in repo), jobs (has bg jobs), status (non-zero exit)
ps1 = "${path}${?git: ${git}}${?status: ${status}}${?jobs: [${jobs}]} $ "

# Continuation prompt (PS2) - shown for multi-line input
ps2 = "> "

# Right-side prompt (RPS1) - shown on right edge of terminal
# Expanded via the Spec 28 two-pass engine (template + bash/zsh escapes)
# Set enable_right_prompt = true below to activate
rps1 = "${time}"

# Transient prompt - replaces old prompts after command execution
# Expanded via the Spec 28 two-pass engine (template + bash/zsh escapes)
transient = "$ "

# Layout options
style = "plain"                # [x] "plain" (template-driven) or "powerline" (colored blocks)
enable_right_prompt = false    # [x] RPROMPT expanded; display requires Phase 3 completion
enable_transient = false       # [x] Routes through Spec 28 expansion engine
enable_multiline = false       # [~] Parsed but not used (multiline is template-driven)
compact_mode = false           # [~] Parsed but not implemented
newline_before = 0             # Blank lines before prompt
newline_after = 0              # Blank lines after prompt

# ==============================================================================
# SEMANTIC COLORS
# ==============================================================================

[colors]
# Core accent colors
primary = "#268BD2"            # Primary accent (solarized blue)
secondary = "#2AA198"          # Secondary accent (solarized cyan)
success = "#859900"            # Success indicator (solarized green)
warning = "#B58900"            # Warning indicator (solarized yellow)
error = "#DC322F"              # Error indicator (solarized red)
info = "#6C71C4"               # Information (solarized violet)

# Text colors
text = "#839496"               # Normal text (solarized base0)
text_dim = "#586E75"           # Dimmed text (solarized base01)
text_bright = "#FDF6E3"        # Bright text (solarized base3)

# Structural colors
border = "#073642"             # Border/separator (solarized base02)
background = "#002B36"         # Background (solarized base03)
highlight = "#073642"          # Highlight (solarized base02)

# Git-specific colors
git_clean = "#859900"          # Clean repository
git_dirty = "#DC322F"          # Dirty repository
git_staged = "#B58900"         # Staged changes
git_untracked = "#6C71C4"      # Untracked files
git_branch = "#268BD2"         # Branch name
git_ahead = "#859900"          # Commits ahead
git_behind = "#DC322F"         # Commits behind

# Path colors
path_home = "#268BD2"          # Home directory
path_root = "#DC322F"          # Root directory /
path_normal = "#839496"        # Normal path components
path_separator = "#586E75"     # Path separator character

# Status colors
status_ok = "#859900"          # Success status (exit 0)
status_error = "#DC322F"       # Error status (non-zero exit)
status_running = "#B58900"     # Running status indicator

# ==============================================================================
# SYMBOLS
# ==============================================================================
# All symbols below are parsed and applied by their respective segment renderers.

[symbols]
# Prompt symbols
prompt = "$"                   # Main prompt character
prompt_root = "#"              # Root user prompt
continuation = ">"             # PS2 continuation

# Powerline separators (requires powerline/nerd fonts)
separator_left = ""           # Left-pointing separator
separator_right = ""          # Right-pointing separator

# Git symbols
branch = ""                   # Branch icon (nerd font)
staged = "+"                   # Staged changes indicator
unstaged = "!"                 # Unstaged changes indicator
untracked = "?"                # Untracked files indicator
ahead = ""                    # Commits ahead indicator
behind = ""                   # Commits behind indicator
stash = ""                    # Stashed changes
conflict = ""                 # Merge conflict

# Directory symbols - used by directory segment renderer
directory = ""                # Directory prefix icon
home = "~"                     # Home directory replacement

# Status symbols
error = ""                    # Error indicator
success = ""                  # Success indicator

# Other segment symbols
time = ""                     # Time segment prefix
jobs = ""                     # Background jobs prefix

# ==============================================================================
# ASCII FALLBACK SYMBOLS
# ==============================================================================
# Used when terminal doesn't support Unicode

[symbols_ascii]
prompt = "$"
prompt_root = "#"
continuation = ">"
separator_left = ""
separator_right = ""
branch = ""
staged = "+"
unstaged = "!"
untracked = "?"
ahead = "^"
behind = "v"
stash = "*"
conflict = "X"
directory = ""
home = "~"
error = "X"
success = "ok"
time = ""
jobs = "&"

# ==============================================================================
# SYNTAX HIGHLIGHTING COLORS
# ==============================================================================

[syntax]
# Commands
command_valid = "#859900"      # Valid external command (green)
command_invalid = "#DC322F"    # Invalid/not-found command (red)
command_builtin = "#2AA198"    # Shell builtin (cd, echo, etc.) (cyan)
command_alias = "#2AA198"      # Defined alias (cyan)
command_function = "#268BD2"   # Shell function (blue)

# Keywords
keyword = "#CB4B16"            # Shell keywords (if, then, for, while, etc.) (orange)

# Strings
string = "#B58900"             # Quoted strings (yellow)
string_escape = "#DC322F"      # Escape sequences in strings (red)
string_ansic = "#B58900"       # ANSI-C quoting $'...' (yellow)

# Variables
variable = "#6C71C4"           # Variable reference $var, ${var} (violet)
variable_special = "#D33682"   # Special variables $?, $#, $@, $$, $! (magenta)

# Paths
path_valid = "#859900"         # Valid file/directory path (green)
path_invalid = "#DC322F"       # Non-existent path (red)

# Operators
pipe = "#268BD2"               # Pipe | (blue)
redirect = "#D33682"           # Redirection >, <, >>, 2>, &> (magenta)
operator = "#839496"           # Other operators &, ;, &&, || (base0)

# Assignment
assignment = "#6C71C4"         # Variable assignment VAR=value (violet)

# Comments and misc
comment = "#586E75"            # Comments # ... (dim)
number = "#2AA198"             # Numeric literals (cyan)
option = "#839496"             # Command options -v, --verbose (base0)
glob = "#CB4B16"               # Glob patterns *, ?, [...] (orange)
argument = "#839496"           # Generic arguments (base0)

# Here-documents and here-strings
heredoc_op = "#D33682"         # Heredoc operator << (magenta)
heredoc_delim = "#B58900"      # Heredoc delimiter word (yellow)
heredoc_content = "#B58900"    # Heredoc body content (yellow)
herestring = "#B58900"         # Here-string <<< (yellow)

# Process substitution
procsub = "#D33682"            # Process substitution <() and >() (magenta)

# Arithmetic expansion
arithmetic = "#2AA198"         # Arithmetic $((...)) (cyan)

# Errors
error = "#DC322F"              # Syntax errors (red)

# Text attributes (true/false)
keyword_bold = true            # Bold keywords
command_bold = true            # Bold valid commands
error_underline = true         # Underline errors
path_underline = true          # Underline paths
comment_dim = true             # Dim comments

# ==============================================================================
# ENABLED SEGMENTS
# ==============================================================================
# List of segments to include in the prompt. Acts as a whitelist filter:
# only segments in this list will be rendered. If omitted or empty, all
# segments are eligible (controlled by their own is_enabled() callbacks).

[segments]
enabled = [
    "path",
    "git",
    "status",
    "jobs"
]

# ==============================================================================
# PER-SEGMENT CONFIGURATION
# ==============================================================================
# Each segment can be individually configured via [segments.<name>] subsections.
# Only set values override the defaults; unset fields inherit from the theme.

# Directory segment configuration
[segments.directory]
show = true                    # Set false to hide this segment
style = "full"                 # "full" (default), "short" (truncated intermediates),
                               # "basename" (last component only)
truncation_length = 0          # Max path components from the end (0 = no limit)
                               # e.g., truncation_length = 3 shows ".../foo/bar/baz"
home_symbol = "~"              # Symbol replacing $HOME in path display

# Git segment configuration
[segments.git]
show = true
show_branch = true             # Show branch name
show_status = true             # Show dirty/staged/untracked indicators
show_ahead_behind = true       # Show ahead/behind remote tracking
show_stash = true              # Show stash indicator
truncation_length = 0          # Max graphemes for branch name (0 = no limit)
                               # e.g., truncation_length = 20 shows "feature/very-long-b..."

# Time segment configuration
[segments.time]
show = true
format = "%H:%M:%S"           # strftime format string (default: "%H:%M:%S")
                               # Examples: "%H:%M" (short), "%I:%M %p" (12-hour)

# Shell level segment — visible when nested (SHLVL > 1)
[segments.shlvl]
show = true
min_level = 2                  # Minimum SHLVL to show (default: 2)

# SSH indicator segment — visible when in SSH session
[segments.ssh]
show = true
style = "symbol"               # "symbol" (default) shows SSH indicator,
                               # "full" shows user@host

# Command duration segment — visible when last command was slow
[segments.cmd_duration]
show = true
min_time = 2000                # Minimum duration in ms to show (default: 2000)
                               # e.g., min_time = 5000 only shows commands > 5s

# Virtual environment segment — visible when Python venv is active
[segments.virtualenv]
show = true
style = "basename"             # "basename" (default) shows venv name only,
                               # "full" shows entire path

# Container segment — visible inside Docker/Podman/LXC
[segments.container]
show = true

# AWS profile segment — visible when $AWS_PROFILE is set
[segments.aws]
show = true

# Kubernetes context segment — visible when kubectl context exists
[segments.kubernetes]
show = true

# ==============================================================================
# POWERLINE MODE
# ==============================================================================
# When style = "powerline", segments render as colored blocks with arrow
# separators instead of using the template engine. Each segment gets its own
# foreground and background color; the separator between segments uses the
# previous segment's bg as its fg and the next segment's bg as its bg.
#
# Requires a powerline-patched font (Nerd Fonts, Powerline fonts, etc.)
#
# Per-segment fg/bg colors (only used in powerline mode):
#   fg = "#ffffff"      # Foreground text color
#   bg = "#0087ff"      # Background block color
#
# Segments without explicit fg/bg use sensible defaults (white text on
# a segment-specific background color).
#
# Example powerline theme configuration:
#
# [layout]
# style = "powerline"
# enable_transient = true
# transient = "$ "
# ps2 = " "
#
# [segments]
# enabled = ["user", "directory", "git", "status"]
#
# [segments.user]
# fg = "color255"
# bg = "color240"
#
# [segments.directory]
# fg = "color255"
# bg = "color33"
#
# [segments.git]
# fg = "color255"
# bg = "color135"
#
# [segments.status]
# fg = "color255"
# bg = "color196"
